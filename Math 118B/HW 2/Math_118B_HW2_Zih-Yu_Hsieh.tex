%Math_118B_HW2_Zih-Yu_Hsieh.tex

\documentclass{article}
\usepackage{graphicx} % Required for inserting images
\usepackage[margin = 2.54cm]{geometry}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{verbatim}
\usepackage[utf8]{inputenc}
%\linespread{1.5}
\usepackage[most]{tcolorbox}

\newtcolorbox{myBox}[3]{
arc=5mm,
lower separated=false,
fonttitle=\bfseries,
%colbacktitle=green!10,
%coltitle=green!50!black,
enhanced,
attach boxed title to top left={xshift=0.5cm,
        yshift=-2mm},
colframe=blue!50!black,
colback=blue!10
}

\newtheorem{definition}{Definition}
\newtheorem{proposition}{Proposition}
\newtheorem{theorem}{Theorem}
\newtheorem{question}{Question}

\title{Math 111B HW2}
\author{Zih-Yu Hsieh}

\begin{document}
\maketitle

\section*{1}
\begin{myBox}[]{}
    \begin{question}
        Let $f : (a, b) \rightarrow \mathbb{R}$ be differentiable on $(a, b)$.
        
        Prove : if $\forall x\in(a,b),\ f'(x)\neq 0$, then $f$ is one-to-one on $(a, b)$.
        
        Give an example showing that the converse statement is in general not true.     
    \end{question}
\end{myBox}


\textbf{Pf:}

Suppose $\forall x\in(a,b),\ f'(x)\neq 0$:

\hfill

\textbf{(1) $f'(x)$ is strictly less than or greater than $0$ on $(a,b)$:}

We'll prove by contradiction: Suppose $f'(x)$ is neither strictly less than $0$ nor strictly greater than $0$ on $(a,b)$,
then there exists $x_0, x_1\in (a,b)$, with $f'(x_0)\leq 0$ and $f'(x_1)\geq 0$, and by the assumption that $f'(x)\neq 0$,
the strict inequality $f'(x_0)< 0$ and $f'(x_1)> 0$ is applied. (This also implies $x_0 \neq x_1$, since derivatives are different
 at the two points).

\hfill

Recall that for function $f:[a,b]\rightarrow \mathbb{R}$ be differentiable on $(a,b)$, if $a<c<d<b$ and 
$f'(c)\neq f'(d)$, for any $\lambda$ strictly in between $f'(c)$ and $f'(d)$ (either $f'(c)<\lambda<f'(d)$ or $f'(c)>\lambda>f'(d)$),
there exists $x\in (c,d)$ with $f'(x)=\lambda$.

Then, first suppose $x_0<x_1$: $f$ is differentiable on $(a,b)$ and $f'(x_0) < 0 < f'(x_1)$ implies there exists $x\in(x_0,x_1)$ with
$f'(x)=0$, which contradicts the assumption;

then suppose $x_1<x_0$: again, $f$ is differentiable on $(a,b)$ and $f'(x_1)>0>f'(x_0)$ implies there exists $x\in (x_1,x_0)$ with
$f'(x)=0$, which again contradicts the assumption.

So, the assumption is false, $f'(x)$ must be strictly greater than $0$ or less than $0$ for all $x\in (a,b)$.

\hfill

\textbf{(2) $f$ is strictly increasing or decreasing on $(a,b)$:}

Based on \textbf{(1)}, $f'(x)$ is strictly less than $0$ or strictly greater than $0$.

Suppose $f'(x)>0$ for all $x\in(a,b)$, then for any $x,y\in (a,b)$ with $x<y$, by the Mean Value Theorem, 
there exists $c\in (x,y)\subseteq (a,b)$, such that the following is true:
$$\frac{f(y)-f(x)}{y-x}=f'(c) >0,\quad (f(y)-f(x))=f'(c)(y-x)$$
Since $(y-x), f'(c)>0$ by assumption, the $(f(y)-f(x))=f'(c)(y-x)>0$, thus $f(y)>f(x)$, showing that $f$ is strictly increasing.

Similarly, suppose $f'(x)<0$ for all $x\in (a,b)$, with the same $x,y$ above, by Mean Value Theorem, there exists $c\in(x,y)\subseteq (a,b)$,
such that the following is true:
$$\frac{f(y)-f(x)}{y-x}=f'(c) <0,\quad (f(y)-f(x))=f'(c)(y-x)$$
Since $(y-x)>0$ and $f'(c)<0$, then $(f(y)-f(x))=f'(c)(y-x)<0$, of $f(y)<f(x)$, showing that $f$ is strictly decreasing.

\hfill

With the above condition, since $f$ is either strictly increasing or strictly decreasing on $[a,b]$, 
then for all $x,y\in(a,b)$, $x\neq y$ implies $f(x)\neq f(y)$ (or else it's no longer strictly increasing or decreasing).
Thus, $f$ is in fact one-to-one on $(a,b)$.

\hfill

\textbf{Counterexample of Converse:}

Let $f:[-1,1]\rightarrow \mathbb{R}$ be $f(x)=x^3$, which $f'(x)=3x^2$, which $f'(0)=0$. 
Yet, suppose $x,y\in (-1,1)$ has $x^3=y^3$, then:
$$x^3-y^3=(x-y)(x^2+xy+y^2)=0$$
Which, the only real solution is $x=y$ (since if treating $y$ as constant, $y^2-4y^2=-3y^2\leq 0$; the only time with real solution is when $y=0$, which implies $x^3=0$, or $x=0$).

So, $f(x)=x^3$ is one-to-one on the region $(-1,1)$, but still has $f'(0)=0$, which is a counterexample.

\hfill

\hfill

\section*{2}
\begin{myBox}[]{}
    \begin{question}
        Let $f : (a, b) \rightarrow R$ be a function such that:
        $$\exists M>0,\exists\alpha>0,\ \forall x,y\in(a,b),\ |f(x)-f(y)|<M|x-y|^\alpha$$
        If $\alpha\in(0,1)$, then $f$ is Holder of order $\alpha$ in $(a, b)$. If $\alpha$ = 1, then $f$ is Lipschitz.
        Prove :
    
        (a) If $\alpha>1$, then $f$ is constant.
    
        (b) If $\alpha\in(0,1]$, then $f$ is uniformly continuous on $(a, b)$.
    
        (c) Give an example such that $f$ is Lipschitz, but not differentiable.
    
        (d) If $f$ is differentiable on $(a, b)$ and $f(x)$ is bounded on (a, b), then f is Lipschitz.
    \end{question}
\end{myBox}

\textbf{Pf:}

\begin{itemize}
    \item[(a)] Suppose $\alpha>1$, then there exists $\epsilon>0$, such that $\alpha=1+\epsilon$. Which, for all $x,y\in (a,b)$ (with $x\neq y$), the following is true:
    $$|f(x)-f(y)|<M|x-y|^\alpha = M|x-y|^{1+\epsilon} = M|x-y|\cdot|x-y|^{\epsilon}$$
    $$\left|\frac{f(x)-f(y)}{x-y}\right| = \frac{|f(x)-f(y)|}{|x-y|}<M|x-y|^\epsilon$$
    Which, fix arbitrary $x_0\in (a,b)$, for all $y\in(a,b)$ with $y\neq x_0$, the following is true:
    $$0\leq \left|\frac{f(x_0)-f(y)}{x_0-y}\right|<M|x_0-y|^\epsilon,\quad -M|x_0-y|^\epsilon<\frac{f(x_0)-f(y)}{x_0-y}<M|x_0-y|^\epsilon$$
    Since $\epsilon>0$, then $\lim_{y\rightarrow x_0}|x_0-y|^\epsilon=0$. Which, by Squeeze Theorem, the following is true:
    $$0=\lim_{y\rightarrow x_0}-M|x_0-y|^\epsilon\leq \lim_{y\rightarrow x_0}\frac{f(x_0)-f(y)}{x_0-y} \leq \lim_{y\rightarrow x_0}M|x_0-y|^\epsilon = 0$$
    Thus, $\lim_{y\rightarrow x_0}\frac{f(x_0)-f(y)}{x_0-y}=0$, or $f'(x_0)=0$.

    \hfill

    This implies that $f(x)$ is a constant function: Suppose $f(x)$ is not a constant function, then there exists $c,d\in (a,b)$ with $c<d$, such that $f(c)\neq f(d)$.

    Notice that since $f'(x_0)$ exists for all $x_0\in(a,b)$, then by Mean Value Theorem, there exists $x\in (c,d)$, such that $f'(x)(d-c)=f(d)-f(c)$.

    Yet, since $f'(x)=0$, while $f(d)-f(c)\neq 0$, $0 = f'(x)(d-c)\neq f(d)-f(c)$, which it is a contradiction.

    Thus, $f(x)$ must be a constant function.

    \hfill
    
    \item[(b)] Suppose $\alpha\in (0,1]$, notice that for all $x,y\in(a,b)$, the following is true:
    $$a<x<b,\quad -b<-y<-a,\quad (a-b)=-(b-a)<(x-y)<(b-a),\quad |x-y|<|b-a|$$
    Which, since $\alpha>0$, then $|x-y|^\alpha<|b-a|^\alpha$. Now, for any $\epsilon>0$, define $\delta = (\frac{\epsilon}{M})^\frac{1}{\alpha}>0$, 
    then for all $x,y\in (a,b)$, if $|x-y|<\delta$, the following is true:
    $$|f(x)-f(y)|<M|x-y|^\alpha < M\cdot \delta^\alpha$$
    (Note: the above inequality is true, since $\alpha>0$, then $0\leq |x-y|<|b-a|$ implies $|x-y|^\alpha < |b-a|^\alpha$).
    Thus, it can be rewritten as:
    $$|f(x)-f(y)| < M\cdot \delta^\alpha = M\cdot \left(\left(\frac{\epsilon}{M}\right)^\frac{1}{\alpha}\right)^\alpha = M \cdot \frac{\epsilon}{M} = \epsilon$$
    Thus, since for all $\epsilon>0$, there exists $\delta>0$ with $|x-y|<\delta$ implies $|f(x)-f(y)|<\epsilon$, $f$ is uniformly continuous.

    \hfill

    \item[(c)] Consider the function $f:(-1,1)\rightarrow\mathbb{R}$ by $f(x)=|x|$.
    
    Choose $M=1.01$ and $\alpha=1$, then the following is true:
    $$\forall x,y\in (-1,1),\quad |f(x)-f(y)| = \left||x|-|y|\right| \leq |x-y| = |x-y|^\alpha<1.01|x-y|^\alpha = M|x-y|^\alpha$$
    Thus, $f$ is Lipschitz continuous.

    Yet, $f$ is not differentiable at $x=0$: For all $x<0$ and $y>0$ (with $x,y\in(-1,1)$), the following is true:
    $$\frac{f(x)-f(0)}{x-0} = \frac{|x|-0}{x-0} = \frac{-x}{x} = -1$$
    $$\frac{f(y)-f(0)}{y-0}=\frac{|y|-0}{y-0}=\frac{y}{y}=1$$
    Which, $\lim_{x\rightarrow 0}\frac{f(x)-f(0)}{x-0}$ is not defined, since the left and right limits as $x$ approaches $0$ are different.

    \hfill
    
    \item[(d)] Suppose $f$ is differentiable on $(a,b)$ and $f'(x)$ is bounded on $(a,b)$, then there exists $M>0$, with $|f'(x)|<M$ for all $x\in (a,b)$.
    Which, for all $x,y\in (a,b)$ with $x< y$, by the Mean Value Theorem, there exists $c\in (x,y)$, such that
    $f(y)-f(x) = f'(c)(y-x)$. Which, the following is true:
    $$|f(y)-f(x)| = |f'(c)|\cdot|y-x| < M|y-x|$$
    Thus, $f$ is Lipschitz continuous.
    

\end{itemize}

\break

\section*{3}
\begin{myBox}[]{}
    \begin{question}
        For any $a\geq 0$, define $f_a:\mathbb{R}\rightarrow\mathbb{R}$ as:
        $$f_a(x)=\begin{cases}
            x^asin(\frac{1}{x}) & x> 0\\
            0 & x\leq 0
        \end{cases}$$
        (a) For which values of $a$ is $f_a$ continuous at 0.
        
        (b) For which values of $a$ is $f_a'(0)$ defined.
        
        (c) For which values of $a$ is $f_a'$ continuous at 0.
        
        (d) For which values of $a$ is $f_a''(0)$ defined.
    \end{question}
\end{myBox}

\textbf{Pf:}

\begin{itemize}
    \item[(a)] \textbf{Ans: $a>0$}. For $a=0$, the function $f_a(x)$ is not continuous: Choose the sequence $(x_n)_{n\in\mathbb{N}}$ by $x_n=\frac{1}{(2n+1/2)\pi} >0$, 
    then $\lim_{n\rightarrow\infty}\frac{1}{(2n+1/2)\pi}=0$, thus $x_n$ converges to $0$; but, consider $(f_a(x_n))_{n\in\mathbb{N}}$:
    $$\forall n\in\mathbb{N},\quad f_a(x_n) = x_n^0\sin\left(\frac{1}{x_n}\right) = \sin\left(\frac{1}{1/(2n+1/2)\pi}\right) = \sin((2n+1/2)\pi) = 1$$
    Which, $\lim_{n\rightarrow\infty}f_a(x_n) = 1\neq 0 = f_a(0)$, thus $f_a(x_n)$ doesn't converge to $f_a(0)$, showing it's not continuous.
    
    \hfill

    Now, for all $a>0$, for any $x>0$, since $x^a>0$, it satisfies the following:
    $$-1\leq \sin\left(\frac{1}{x}\right)\leq 1,\quad -x^a\leq f_a(x)=x^a\sin\left(\frac{1}{x}\right)\leq x^a$$
    Which, take the right limit of $x^a$ of $0$, $\lim_{x\rightarrow 0^+}x^a=0$, then by Squeeze Theorem, the following is true:
    $$0 =\lim_{x\rightarrow 0^+}-x^a\leq \lim_{x\rightarrow 0^+}x^a\sin\left(\frac{1}{x}\right)\leq \lim_{x\rightarrow 0^+}x^a = 0$$
    Thus, $\lim_{x\rightarrow 0^+}f_a(x)=0$.

    Also, since $\lim_{x\rightarrow 0^-}f_a(x) = 0$ (since for $x<0$, $f_a(x)=0$), then the left and right limits both agree with $f_a(0)=0$, showing it's continuous at $0$.
    Every $a>0$ has $f_a(x)$ being continuous at $0$.
    
    \hfill

    \item[(b)] \textbf{Ans: $a>1$.} In case for $f_a'(0)$ to be defined, $f_a$ must be continuous at $0$. Thus, $a>0$ is required.
    
    Consider the slope $\frac{f_a(x)-f_a(0)}{x-0}$ for all $x\neq 0$.
    If $x<0$, then since $f_a(x)=0$, then the slope is $0$. Thus, the left limit of the slope $\lim_{x\rightarrow 0^-}\frac{f_a(x)-f_a(0)}{x-0} = 0$.

    Now, consider the slope from the right:
    $$x>0,\quad \frac{f_a(x)-f_a(0)}{x-0} = \frac{x^a\sin(1/x)-0}{x-0} = x^{a-1}\sin\left(\frac{1}{x}\right)$$
    Since the left limit is evaluated as $0$, in case for $f'(0)$ to be defined, the right limit also needs to converge to $0$.
    
    \hfill

    First, notice that if $a \leq 1$, the right limit doesn't exist: 

    Consider the same sequence $x_n = \frac{1}{(2n+1/2)\pi}>0$ used in part (a), then the following is true:
    $$\forall n\in\mathbb{N},\quad (x_n)^{a-1}\sin\left(\frac{1}{x_n}\right) = \left(\frac{1}{(2n+1/2)\pi}\right)^{a-1}\sin((2n+1/2)\pi) = \left(\frac{1}{(2n+1/2)\pi}\right)^{a-1}$$
    Which, if $a=1$ (or $a-1=0$), then $(x_n)^{a-1}\sin(1/x_n) = 1$ for all $n\in\mathbb{N}$, which $\lim_{n\rightarrow\infty}\frac{f_a(x_n)-f_a(0)}{x_n-0} = 1$, while $\lim_{n\rightarrow\infty}x_n=0$. 
    This shows that the right limit of the slope is not $0$, which $f_a'(0)$ is not defined.

    Else, if $a<1$ (or $a-1<0$), then $(x_n)^{a-1}\sin(1/x_n) = \left(\frac{1}{(2n+1/2)\pi}\right)^{a-1}= ((2n+1/2)\pi)^{1-a}$ is in fact unbounded as $n$ increases indefinitely (since $1-a>0$), 
    so again the right limit of the slope is not defined, implying $f_a'(0)$ is not defined.

    \hfill

    So, in case for the right limit to be defined, $a>1$. Which, since $a-1>0$, then for all $x>0$, $x^{a-1}>0$, and $\lim_{x\rightarrow 0^+}a^{a-1}=0$. Thus based on Squeeze Theorem:
    $$-1\leq \sin\left(\frac{1}{x}\right)\leq 1,\quad x>0,\quad -x^{a-1}\leq x^{a-1}\sin\left(\frac{1}{x}\right)\leq x^{a-1}$$
    $$0=\lim_{x\rightarrow0^+}-x^{a-1} \leq \lim_{x\rightarrow0^+}x^{a-1}\sin\left(\frac{1}{x}\right) \leq \lim_{x\rightarrow0^+}x^{a-1}=0$$
    So, the right limit of $x^{a-1}\sin(1/x)$ is $0$ when $x$ approaches $0$, which it agrees with the initial left limit,
    hence for $a>1$, $\lim_{x\rightarrow 0}\frac{f_a(x)-f_a(0)}{x-0} = 0$, $f_a'(0)=0$ is defined.

    \hfill

    \item[(c)] \textbf{Ans: $a>2$.} For $f_a'$ to be continuous at $0$, $f_a'(0)$ needs to be defined. So, $a>1$ is required.
    
    For $x<0$, since $f_a(x)=0$, then $f_a'(x)=0$, which $\lim_{x\rightarrow 0^-}f_a'(x)=0$.
    
    Consider $f_a'(x)$ for $x> 0$, which by the differentiation rule, it is evaluated as:
    $$f_a'(x)=ax^{a-1}\sin\left(\frac{1}{x}\right) + x^a\cos\left(\frac{1}{x}\right)\frac{-1}{x^2} = ax^{a-1}\sin\left(\frac{1}{x}\right) - x^{a-2}\cos\left(\frac{1}{x}\right)$$
    
    In case for $f_a'(x)$ to be continuous at $0$, $\lim_{x\rightarrow 0^+}f_a'(x) = 0$.
    
    Since $x^{a-1}\sin(1/x)$ has right limit exists as $x$ approaches $0$ (since we assume $a>1$), it suffices to find values of $a$ which $x^{a-2}\cos(1/x)$ has right limit being $0$, when $x$ approaches $0$.

    \hfill

    For $a\leq 2$, the right limit of $x^{a-2}\cos(1/x)$ is not $0$:
    
    Consider the sequence $(x_n)_{n\in\mathbb{N}}$ by $x_n=\frac{1}{2n\pi}$, then $\lim_{n\rightarrow\infty}x_n=0$. Which, the following is true:
    $$\forall n\in\mathbb{N},\quad (x_n)^{a-2}\cos\left(\frac{1}{x_n}\right)=\left(\frac{1}{2n\pi}\right)^{a-2}\cos\left(\frac{1}{2n\pi}\right) = (2n\pi)^{2-a}$$
    Which, if $a=2$, $2-a=0$, hence $(x_n)^{a-2}\cos(1/x_n)=1$, implying $\lim_{n\rightarrow\infty}(x_n)^{a-2}\cos(1/x_n)=1\neq 0$. This implies that $x^{a-2}\cos(1/x)$ doesn't converge to $0$ as $x$ converges to $0$.

    Else, if $a<2$, then since $(2-a)>0$, $(2n\pi)^{2-a}$ goes unbounded as $n$ increases indefinitely, so again $x^{a-2}\cos(1/x)$ doesn't converge to $0$ when $x$ converges to $0$.

    \hfill

    So, for right limit of $f_a'(x)$ of $x=0$ to be $0$, $a>2$ is required. Which, for $a>2$, since $a-2>0$, then for all $x>0$, $x^{a-2}>0$. Thus by Squeeze Theorem:
    $$-x^{a-2}\leq x^{a-2}\cos\left(\frac{1}{x}\right)\leq x^{a-2}$$
    $$0=\lim_{x\rightarrow 0^+}-x^{a-2}\leq \lim_{x\rightarrow 0^+}x^{a-2}\cos\left(\frac{1}{x}\right)\leq \lim_{x\rightarrow 0^+}x^{a-2}=0$$
    So, the right limit of $x^{a-2}\cos(1/x)$ is $0$ as $x$ approaches $0$, hence the right limit of $f_a'(x)=ax^{a-1}\sin\left(\frac{1}{x}\right) - x^{a-2}\cos\left(\frac{1}{x}\right)$ is $0$ as $x$ approaches $0$.
    Hence, for $a>2$, $f_a'(x)$ is continuous at $0$, since the left and right limit agrees with $f_a'(0)$.

    \hfill
    
    \item[(d)] \textbf{Ans: $a>3$.} To make sense of the second derivative, $f_a'(x)$ needs to be continuous at $0$, thus $a>2$.
    Since for all $x<0$, $f_a'(x)=0$, thus $f_a''(x)=0$. So, the left limit $\lim_{x\rightarrow 0^-}f_a''(x)=0$.
    
    Then, in case for $f_a''(0)$ to be defined, the right limit must also be $0$.

    Now, for all $x>0$, consider the slope $\frac{f_a'(x)-f_a'(0)}{x-0}$:
    $$\frac{f_a'(x)-f_a'(0)}{x-0} = \frac{ax^{a-1}\sin\left(\frac{1}{x}\right) - x^{a-2}\cos\left(\frac{1}{x}\right)-0}{x-0} = \frac{ax^{a-1}\sin\left(\frac{1}{x}\right) - x^{a-2}\cos\left(\frac{1}{x}\right)}{x}$$
    $$ = ax^{a-2}\sin\left(\frac{1}{x}\right) - x^{a-3}\cos\left(\frac{1}{x}\right)$$
    Which, in case for $\lim_{x\rightarrow 0^+}\frac{f_a'(x)-f_a'(0)}{x-0}$ to be defined, $a>3$.

    \hfill

    If $a\leq 3$, the again take the sequence  $x_n=\frac{1}{2n\pi}$ used in part (c), the above limit becomes:
    $$\forall n\in\mathbb{N},\quad ax_n^{a-2}\sin\left(\frac{1}{x_n}\right)-x^{a-3}\cos\left(\frac{1}{x_n}\right) = a\left(\frac{1}{2n\pi}\right)^{a-2}\sin(2n\pi)-\left(\frac{1}{2n\pi}\right)^{a-3}\cos(2n\pi)$$
    $$= 0-(2n\pi)^{3-a}$$
    If $a=3$, then the above expression is $-1$. Thus, as $n$ approaches $\infty$, the sequence $\frac{f_a'(x_n)-f_a'(0)}{x_n-0}$ converges to $1\neq 0$, hence the right limit doesn't agree with the left limit, hence $f_a''(0)$ is not defined.

    Else if $a<3$, then the above expression is not bounded, since $3-a>0$, so the right limit doesn't exist in $\mathbb{R}$, hence $f_a''(0)$ is again not defined.

    \hfill

    For all $a>3$, and all $x>0$, the above terms can again be approached by Squeeze Theorem:
    $$-x^{a-2}\leq x^{a-2}\sin\left(\frac{1}{x}\right)\leq x^{a-2}$$
    $$0=\lim_{x\rightarrow0^+}-x^{a-2} \leq \lim_{x\rightarrow0^+}x^{a-2}\sin\left(\frac{1}{x}\right) \leq \lim_{x\rightarrow0^+}x^{a-2}=0$$
    
    $$-x^{a-3}\leq x^{a-3}\cos\left(\frac{1}{x}\right)\leq x^{a-3}$$
    $$0=\lim_{x\rightarrow 0^+}-x^{a-2}\leq \lim_{x\rightarrow 0^+}x^{a-2}\cos\left(\frac{1}{x}\right)\leq \lim_{x\rightarrow 0^+}x^{a-2}=0$$
    Hence, $\lim_{x\rightarrow 0^+}\frac{f_a'(x)-f_a'(0)}{x-0} = \lim_{x\rightarrow 0^+}ax^{a-2}\sin\left(\frac{1}{x}\right) - x^{a-3}\cos\left(\frac{1}{x}\right) = 0$, which agrees with the left limit.
    So, for all $a>3$, $f_a''(0)$ is defined.
\end{itemize}

\break

\section*{4}
\begin{myBox}[]{}
    \begin{question}
        Let $f:\mathbb{R}\rightarrow\mathbb{R}$ be defined as $f(x)=e^{-\frac{1}{x^2}}$
        if $x\neq 0$ and $f (0) = 0$.
        Show that $f$ is infinitely differentiable and $\forall n\in\mathbb{N},\ f^{(n)}(0)=0$.
    \end{question}
\end{myBox}

\textbf{Pf:}

First, we'll prove that for all $n\in\mathbb{N}$, $\lim_{x\rightarrow 0}\frac{1}{x^n}e^{-\frac{1}{x^2}}=0$.
By doing the substitution $h=\frac{1}{x}$, the expression becomes $\lim_{h\rightarrow\infty}h^ne^{-h^2}$.

For base cases $n=0$, the limit $\lim_{h\rightarrow \infty}h^0e^{-h^2} = \lim_{n\rightarrow\infty}e^{-h^2}=0$ (since $e^{-h^2}=1/e^{h^2}$, and $e^{h^2}$ is not bounded).
Same applies for another base case $n=1$, the limit $\lim_{h\rightarrow\infty}he^{-h^2} = \lim_{h\rightarrow\infty}\frac{h}{e^{h^2}}$. Since both $h$ and $e^{h^2}$ are not bounded, 
then apply L'hopital's Rule becomes:
$$\lim_{h\rightarrow\infty}\frac{h}{e^{h^2}}=\lim_{h\rightarrow\infty}\frac{1}{2he^{h^2}}=0$$
The second part is true since $he^{h^2}$ is not bounded. Which, the case is also true for $n=1$.

\hfill

Then, suppose for given $n\in\mathbb{N}$ and all integer $0< k\leq n$,$\lim_{h\rightarrow\infty}h^ke^{-h^2}=0$, for the case of $(n+1)$,
$\lim_{h\rightarrow\infty}h^{(n+1)}e^{-h^2}=\lim_{h\rightarrow\infty}\frac{h^{n+1}}{e^{h^2}}$, which both $h^{(n+1)}$ and $e^{h^2}$ are not bounded in this limit. THus, apply L'hopital's Rule, the limit becomes:
$$\lim_{h\rightarrow\infty}\frac{h^{(n+1)}}{e^{h^2}}=\lim_{h\rightarrow\infty}\frac{(n+1)h^n}{2he^{h^2}}=\lim_{h\rightarrow\infty}\frac{(n+1)}{2}h^{n-1}e^{-h^2}$$
If $0<(n+1)<n$, then based on induction hypothesis, the above limit evalutes to be $0$; 
if $(n-1)=0$, then it returns to the initial case, which again evaluates to be $0$;
else, if $(n-1)<0$, then the limit becomes $\lim_{h\rightarrow\infty}\frac{(n+1)}{2h^{1-n}e^{h^2}}$, where $(1-n)>0$. Thus, the denominator goes unbounded, the limit again evaluates to be $0$.

So, by the Principle of Mathematical Induction, the limit $\lim_{x\rightarrow 0}\frac{1}{x^n}e^{-\frac{1}{x^2}}=\lim_{h\rightarrow\infty}h^ne^{-h^2}=0$ for all $n\in\mathbb{N}$.
And, if take finite linear combination of different powers, for any real-valued polynomial $p(h)=a_nh^n+...+a_0$, $p(1/x)e^{-\frac{1}{x^2}}$ also converges to $0$ as $x$ approaches $0$
(since $p(1/x)e^{-\frac{1}{x^2}}=a_n(1/x^n)e^{-\frac{1}{x^2}}+...+a_0e^{-\frac{1}{x^2}}$, where each individual component converges to $0$ as $x$ approaches $0$).

\hfill

\hfill

Now, we can use induction to prove that for all $n\in\mathbb{N}$,
the function $f(x)=e^{-\frac{1}{x^2}}$ has $n^{th}$ derivative in the form $p(1/x)e^{-\frac{1}{x^2}}$ for some polynomial $p(h)$, and is differentiable at $0$, with $f^{(n)}(0)=0$.

\hfill

First, for base case $n=1$, for all $x\neq 0$, $f'(x)=\frac{2}{x^3}e^{-\frac{1}{x^2}}$ by the differentiation rules, which let polynomial $p_1(h)=2h^3$, then $f'(x)=p_1(1/x)e^{-\frac{1}{x^2}}$. 
Which, $\lim_{x\rightarrow 0}\frac{2}{x^3}e^{-\frac{1}{x^2}}=0$, since $\lim_{x\rightarrow 0}\frac{1}{x^3}e^{-\frac{1}{x^2}}=0$ follows from the statment proven previously.

Now, for $f'(0)$, consider $\lim_{x\rightarrow 0}\frac{f(x)-f(0)}{x-0}$:
$$\lim_{x\rightarrow 0}\frac{f(x)-f(0)}{x-0}=\lim_{x\rightarrow 0}\frac{e^{-\frac{1}{x^2}-0}}{x} = \lim_{x\rightarrow 0}\frac{1}{x}e^{-\frac{1}{x^2}}=0$$
Thus, we can conclude that $f'(0)=0$.

\hfill

Then, suppose for given $n\in\mathbb{N}$, the $n^{th}$ derivative is in the form $f^{(n)}(x)=p_n(1/x)e^{-\frac{1}{x^2}}$ for some real coefficient polynomial $p_n(h)$, and is differentiable at $0$.

Which, for the $(n+1)^{th}$ derivative, since for $x\neq 0$, using differentiation rule:
$$f^{(n+1)}(x)=p_n'(1/x)\frac{-1}{x^2}e^{-\frac{1}{x^2}}+p_n(1/x)e^{-\frac{1}{x^2}}\frac{-2}{x^3} = (\frac{2}{x^3}p_n(1/x)-\frac{1}{x^2}p_n'(1/x))e^{-\frac{1}{x^2}}$$
Which, let $p_{(n+1)}(h)=2h^3p_n(h)-h^2p_n'(h)$ be the polynomial, $f^{(n+1)}(x)=p_{(n+1)}(1/x)e^{-\frac{1}{x^2}}$. Which, $\lim_{x\rightarrow 0}p_{(n+1)}(1/x)e^{-\frac{1}{x^2}}=0$ is proven initially.

Now, for $f^{(n+1)}(0)$, consider $\lim_{x\rightarrow 0}\frac{f^{(n)}(x)-f^{(n)}(0)}{x-0}$:
$$\lim_{x\rightarrow 0}\frac{f^{(n)}(x)-f^{(n)}(0)}{x-0} =\lim_{x\rightarrow 0}\frac{p_n(1/x)e^{-\frac{1}{x^2}}-0}{x} = \lim_{x\rightarrow 0}\frac{1}{x}p_n(1/x)e^{-\frac{1}{x^2}}$$
Let $p(h)=hp_n(h)$ be the polynomial, the $p(1/x)e^{-\frac{1}{x^2}}=\frac{1}{x}p_n(1/x)e^{-\frac{1}{x^2}}$, thus the above limit is evaluated as $0$.
Which, $f^{(n+1)}(0)=0$.

\hfill

By the principle of mathematical induction, we can conclude that for all $n\in\mathbb{N}$, the $n^{th}$ derivative is in the form $f^{(n)}(x)=p_n(1/x)e^{-\frac{1}{x^2}}$ for some polynomial $p_n(h)$, 
and $f^{(n)}(0)=0$. Thus, $f(x)$ described in the problem is in fact infinitely differentiable, and $f^{(n)}(0)=0$ for all natural number

\break

\section*{5}
\begin{myBox}[]{}
    \begin{question}
        From the textbook solve exercises 2, 7 and 15 (first part) of Chapter 5.
    \end{question}
\end{myBox}

\hfill

\begin{itemize}
    \item \begin{myBox}[]{}
        \textbf{Q2:} Suppose $f'(x)>0$ in $(a,b)$ Prove that $f$ is strictly increasing in $(a,b)$, and let $g$ be its inverse function. 
        Prove that $g$ is differentiable, and that $g'(f(x))=1/f'(x)$ for $a<x<b$.
    \end{myBox}

    \textbf{Pf:}

    \textbf{$f$ is Strictly Increasing:}

    First, to prove that $f$ is strictly increasing in $(a,b)$, we'll use contradiction: Suppose $f$ is not strictly increasing in $(a,b)$.
    Then, there exists $c,d\in (a,b)$, where $c<d$, such that $f(c)\geq f(d)$. But, by Mean Value Theorem, thre exists $x\in (c,d0)$, with $'(x)=\frac{f(d)-f(c)}{d-c}$.
    Which, since $f(d)\leq f(c)$, $f(d)-f(c)\leq 0$; and $c<d$ implies $\frac{1}{d-c}>0$. Thus, $f'(x)=\frac{f(d)-f(c)}{d-c}\leq 0$, but this is a contradiction (since $x\in (a,b)$ implies $f'(x)>0$).
    So, the assumption is false, $f$ must be strictly increasing in $(a,b)$.

    \hfill

    \textbf{Continuity of $g$:}

    Notice that $g$ is defined on $f((a,b))$, which for all $c\in (a,b)$, $g(f(c)) = c$, thus $g$ is a surjective function.

    Also, suppose $x,y\in f((a,b))$ satisfies $g(x)=g(y)$, since there exists $c,d\in (a,b)$ with $f(c)=x$ and $f(d)=y$, 
    then $c=g(f(c))=g(x)=g(y)=g(f(d))=d$, which $x=f(c)=f(d)=y$. So, $g$ is also injective.

    Then, because $f:(a,b)\rightarrow f(a,b)$ and $g:f(a,b)\rightarrow (a,b)$ are bijective, then $f(g(U))=U$ for all $U\subseteq f((a,b))$ and $g(f(V))=V$ for all $V\subseteq (a,b)$.

    \hfill

    Which, because $f$ is continuous, then for all open sets $U\in (a,b)$, consider $g^{-1}(U)$:
    Since $f(g(g^{-1}(U)))=g^{-1}(U)$, and $g$ is bijective implies $g(g^{-1}(U))=U$, thus $g^{-1}(U)=f(U)$.


    \hfill

    \textbf{Differentiability of $g$:}

    Now, given that $g$ if the inverse of $f$, then for all $x\in(a,b)$, then $g(f(x))=x$.
    Since $g$ is defined on the set $f((a,b))$, and $(a,b)$ is a connected interval while $f$ is continuous, the $f((a,b))$ is an interval
    (recall that differentiability of $f$ implies continuity).

    Which, take $D=(f((a,b)))^\circ$ an open set, for every point $x\in D$ there exists $r>0$, with $(x-r,x+r)\in D$.


    \hfill

    \item \begin{myBox}[]{}
        \textbf{Q7:} Suppose $f'(x), g'(x)$ exists, $g'(x)\neq 0$, and $f(x)=g(x)=0$. Prove that $\lim_{t\rightarrow x}\frac{f(t)}{g(t)}=\frac{f'(x)}{g'(x)}$. 
    \end{myBox}

    \textbf{Pf:}

    Since $f'(x), g'(x)$ exists, within some neightborhood $(x-\epsilon,x+\epsilon)$, if $t$ is in the neighborhood, $\lim_{t\rightarrow x}\frac{f(t)-f(x)}{t-x}=f'(x)$ and $\lim_{t\rightarrow x}\frac{g(t)-g(x)}{t-x}=g'(x)$.
    Thus, for all $t\neq x$ within the given neighborhood, if $g(t)\neq 0$, the following is true:
    $$\frac{f(t)}{g(t)}=\frac{f(t)-0}{g(t)-0}=\frac{f(t)-f(x)}{g(t)-g(x)} = \frac{f(t)-f(x)}{t-x}\frac{t-x}{g(t)-g(x)} = \frac{f(t)-f(x)}{t-x}\frac{1}{\frac{g(t)-g(x)}{t-x}}$$
    Notice that since $\lim_{t\rightarrow x}\frac{f(t)-f(x)}{t-x}=f'(x)$, and $\lim_{t\rightarrow x}\frac{g(t)-g(x)}{t-x}=g'(x)\neq 0$, thus $\lim_{t\rightarrow x}1/\left(\frac{g(t)-g(x)}{t-x}\right)=1/g'(x)$. So, the limit is given as follow:
    $$\lim_{t\rightarrow x}\frac{f(t)}{g(t)}= \lim_{t\rightarrow x}\frac{f(t)-f(x)}{t-x}\frac{1}{\frac{g(t)-g(x)}{t-x}} = \left(\lim_{t\rightarrow x}\frac{f(t)-f(x)}{t-x}\right)\left(\lim_{t\rightarrow x}\frac{1}{\frac{g(t)-g(x)}{t-x}}\right) = f'(x)\frac{1}{g'(x)}$$
    Hence, $\lim_{t\rightarrow x}\frac{f(t)}{g(t)}=\frac{f'(x)}{g'(x)}$.

    \hfill

    \item \begin{myBox}[]{}
        \textbf{Q15:} Suppose $a\in\mathbb{R}$, $f$ is a twice-differentiable real function on $(a,\infty)$, and $M_0,M_1,M_2$ are the least upper bounds of $|f(x)|,|f'(x)|,|f''(x)|$, respectively, on $(a,\infty)$. 
        Prove that $M_1^2\leq 4M_0M_2$.
    \end{myBox}

    \textbf{Pf:}

    For all $x_0\in (a,\infty)$, consider the Taylor Polynomial $P_1(x)=f(x_0)+f'(x_0)(x-x_0)$. Which, for all $h>0$ ($2h>0$), since $x_0+2h>x_0$, so $(x_0+2h)\in (a,\infty)$. 
    Thus, by Taylor's Theorem, there exists $z\in (x_0,x_0+2h)$, with $f(x_0+2h)-P_1(x_0+2h)=\frac{f''(z)}{2!}((x_0+2h)-x_0)^2$. Thus:
    $$f(x_0+2h)-P_1(x_0+2h)=f(x_0+2h)-\left(f(x_0)+f'(x_0)((x_0+2h)-x_0)\right)$$
    $$=f(x_0+2h)-f(x_0)-2hf'(x_0)$$

    $$\frac{f''(z)}{2!}((x_0+2h)-x_0)^2 = \frac{f''(z)}{2}(2h)^2$$

    So, $f(x_0+2h)-f(x_0)-2hf'(x_0)=\frac{f''(z)}{2}4h^2$, thus $2hf'(x_0)=f(x_0+2h)-f(x_0)-f''(z)2h^2$, or $f'(x_0)=\frac{1}{2h}f(x_0+2h)-f(x_0))-hf''(z)$. Hence, the following inequality is true:
    $$|f'(x_0)| = \left|\frac{1}{2h}f(x_0+2h)-f(x_0))-hf''(z)\right| \leq \frac{1}{2h}(|f(x_0+2h)|+|f(x_0)|) + h|f''(z)|$$
    $$|f'(x_0)| \leq \frac{1}{2h}2M_0 + hM_2 = \frac{M_0}{h}+hM_2$$
    Which, if choose $h=\sqrt{M_0/M_2}$, the following is true:
    $$|f'(x_0)| \leq \frac{M_0}{\sqrt{M_0/M_2}}+\sqrt{\frac{M_0}{M_2}}M_2 = \sqrt{M_0M_2}+\sqrt{M_0M_2}=2\sqrt{M_0M_2}$$
    Thus, $2\sqrt{M_0M_2}$ is an upper bound of $|f'(x)|$ for all $x\in(a,\infty)$, hence $M_1\leq 2\sqrt{M_0M_2}$ (since $M_1$ by definition is the least upper bound of $|f'(x)|$). So:
    $$M_1^2 \leq (2\sqrt{M_0M_2})^2 = 4M_0M_2$$


\end{itemize}

\end{document}